
<ion-header>
    <ion-navbar>
      <button ion-button menuToggle>
        <ion-icon name="menu"></ion-icon>
      </button>
      <ion-title>Planejar Reservas de Barco</ion-title>
      <ion-buttons end [hidden]="!existePlano">          
          <button  ion-button color="primary" icon-start (click)="goEditarReserva(true)">
              <ion-icon name="create"></ion-icon>
               <span hideWhen="portrait">Editar</span>
          </button>
        </ion-buttons>
    </ion-navbar>
  </ion-header>  
  
  <ion-content padding>

      <form [formGroup]="planoReservabarcoForm" novalidate>
          <ion-list no-lines>

            <ion-item [hidden]="podeEditar">
              <h2>Valor Aluguel</h2>
              <p>{{planoReservabarco.valorAluguelKm}}</p>
            </ion-item>
            <ion-item [hidden]="!podeEditar">
              <ion-label stacked color="primary">Valor Aluguel</ion-label>
              <ion-input type="text" formControlName="valorAluguelKm" [(ngModel)]="planoReservabarco.valorAluguelKm" spellcheck="false" autocapitalize="off" required>
              </ion-input>
            </ion-item>
            <p ion-text [hidden]="valorAluguelKm.valid || submitted == false" color="danger" padding-left>
              Campo é obrigatório
            </p>

            <ion-item [hidden]="podeEditar">
                <h2>Opção Plano</h2>
                <p>{{planoReservabarco.opcaoPlano}}</p>
              </ion-item>
              <ion-item [hidden]="!podeEditar">
                <ion-label stacked color="primary">Opção Plano</ion-label>
                <ion-select [(ngModel)]="planoReservabarco.opcaoPlano" formControlName="opcaoPlano" >
                  <ion-option value="D">Diariamente Disponível</ion-option>
                  <ion-option value="P">Por Data</ion-option>
                </ion-select>   
            </ion-item>  
            <p ion-text [hidden]="opcaoPlano.valid || submitted == false" color="danger" padding-left>
                Campo é obrigatório
            </p>
      
              <ion-item [hidden]="podeEditar">
                <h2>Data Inicio</h2>
                <p>{{planoReservabarco.dataInicio}}</p>
              </ion-item>
              <ion-item [hidden]="!podeEditar">
              <ion-label stacked color="primary">Data Inicio</ion-label>
              <ion-input formControlName="dataInicio" [(ngModel)]="planoReservabarco.dataInicio" type="date" >
              </ion-input>
            </ion-item>  
  
              <ion-item [hidden]="podeEditar">
                <h2>Data Fim</h2>
                <p>{{planoReservabarco.dataFim}}</p>
              </ion-item>
              <ion-item [hidden]="!podeEditar">
                <ion-label stacked color="primary">Data Fim</ion-label>
                <ion-input formControlName="dataFim" [(ngModel)]="planoReservabarco.dataFim" type="date" >
                </ion-input>
            </ion-item>
  
            <ion-item [hidden]="podeEditar">
                <h2>Quantidade Máxima Pessoas</h2>
                <p>{{planoReservabarco.quantMaxPessoas}}</p>
              </ion-item>
              <ion-item [hidden]="!podeEditar">
                <ion-label stacked color="primary">Quantidade Máxima Pessoas</ion-label>
                <ion-input formControlName="quantMaxPessoas" [(ngModel)]="planoReservabarco.quantMaxPessoas" type="text" >
                </ion-input>
            </ion-item>

            <ion-item [hidden]="podeEditar">
                <h2>Distância Máxima</h2>
                <p>{{planoReservabarco.distanciaMax}}</p>
              </ion-item>
              <ion-item [hidden]="!podeEditar">
                <ion-label stacked color="primary">Distância Máxima</ion-label>
                <ion-input formControlName="distanciaMax" [(ngModel)]="planoReservabarco.distanciaMax" type="text" >
                </ion-input>
            </ion-item>

            <ion-item [hidden]="podeEditar">
                <h2>Quantidade Horas Disponível</h2>
                <p>{{planoReservabarco.quantHorasDisponivel}}</p>
              </ion-item>
              <ion-item [hidden]="!podeEditar">
                <ion-label stacked color="primary">Quantidade Horas Disponível</ion-label>
                <ion-input formControlName="quantHorasDisponivel" [(ngModel)]="planoReservabarco.quantHorasDisponivel" type="text" >
                </ion-input>
            </ion-item>
  
          </ion-list>

          <p ion-text color="danger" padding-left > {{mensagemRetorno}}</p>
  
          <ion-row responsive-sm>
              <ion-col [hidden]="!existePlano">
                  <button ion-button (click)="goListarPlano()" type="submit" block>Histórico Planos</button>
                </ion-col>  
              <ion-col [hidden]="!podeEditar">
                  <button  ion-button (click)="cancelarSalvarPlano()" type="submit" block>Cancelar</button>
              </ion-col>        
              <ion-col [hidden]="!podeEditar">
                <button  ion-button (click)="salvarPlanoReservaBarco(planoReservabarcoForm)" type="submit" block>Salvar</button>
              </ion-col>
              <ion-col [hidden]="existePlano">
                <button ion-button (click)="goCriarNovoPlano()" type="submit" block>Novo Plano</button>
              </ion-col>
          </ion-row>
      </form>
  
  </ion-content>
  