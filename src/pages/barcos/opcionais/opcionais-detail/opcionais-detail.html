<ion-header>

  <ion-navbar>
      <button ion-button menuToggle>
        <ion-icon name="menu"></ion-icon>
      </button>
    <ion-title>Detalhes Informações Opcional</ion-title>
    <ion-buttons end>
        <button ion-button icon-only (click)="goEditarOpcional(true)">
          Editar
        </button>
        <button ion-button color="danger" icon-start (click)="goExcluirOpcional()">
            <ion-icon name="trash"></ion-icon>
            <span hideWhen="portrait">Excluir</span>
          </button>
      </ion-buttons>
  </ion-navbar>

</ion-header>

<ion-content padding>

    <form [formGroup]="opcionalForm" novalidate>
        <ion-list no-lines>

            <ion-item [hidden]="podeEditar">
              <h2>Nome</h2>
              <p>{{opcional.nome}}</p>
            </ion-item>
            <ion-item [hidden]="!podeEditar">
              <ion-label stacked color="primary">Nome</ion-label>
              <ion-input type="text" formControlName="nome" [(ngModel)]="opcional.nome" spellcheck="false" autocapitalize="off" required>
              </ion-input>
            </ion-item>
          <p ion-text [hidden]="nome.valid || submitted == false" color="danger" padding-left>
            Campo é obrigatório
          </p>
    
            <ion-item [hidden]="podeEditar">
              <h2>Descrição</h2>
              <p>{{opcional.descricao}}</p>
            </ion-item>
            <ion-item [hidden]="!podeEditar">
              <ion-label stacked color="primary">Descrição</ion-label>
              <ion-input formControlName="descricao" [(ngModel)]="opcional.descricao" type="text" >
              </ion-input>
            </ion-item>

              <ion-item [hidden]="podeEditar">
                <h2>Observação</h2>
                <p>{{opcional.observacao}}</p>
              </ion-item>
              <ion-item [hidden]="!podeEditar">
                <ion-label stacked color="primary">Observação</ion-label>
                <ion-input formControlName="observacao" [(ngModel)]="opcional.observacao" type="text" >
                </ion-input>
              </ion-item>
        </ion-list>

        <ion-row responsive-sm>
            <ion-col>
              <button ion-button (click)="cancelarEdicaoOpcional()" color="light" block>Cancelar</button>
            </ion-col>
            <ion-col>
              <button ion-button (click)="salvarOpcional(opcionalForm)" type="submit" block>Criar</button>
            </ion-col>
          </ion-row>

    </form>  

</ion-content>
